{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f237ef35ae14ab278512","webpack:///./src/FitVideo.js"],"names":["FitVideo","wrapper","videoWrapper","video","mode","callback","init","bind","resize","videoWidth","addEventListener","videoAspect","videoHeight","window","removeEventListener","wrapperRect","getBoundingClientRect","wrapperAspect","width","height","top","left","Math","ceil","style","transform","console","warn"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FitVideo\"] = factory();\n\telse\n\t\troot[\"FitVideo\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f237ef35ae14ab278512","export default class FitVideo {\n    constructor(wrapper, videoWrapper, video, mode = 'cover', callback = () => {\n    }) {\n        this.wrapper = wrapper;\n        this.videoWrapper = videoWrapper;\n        this.video = video;\n        this.mode = mode;\n        this.callback = callback;\n        this.init = this.init.bind(this);\n        this.resize = this.resize.bind(this);\n        video.videoWidth ? this.init() : video.addEventListener('loadedmetadata', this.init);\n    }\n\n    init() {\n        this.videoAspect = this.video.videoWidth / this.video.videoHeight;\n        window.addEventListener('resize', this.resize);\n        this.resize();\n    }\n\n    destroy() {\n        window.removeEventListener('resize', this.resize);\n    }\n\n    resize() {\n        const wrapperRect = this.wrapper.getBoundingClientRect();\n        const wrapperAspect = wrapperRect.width / wrapperRect.height;\n\n        let width;\n        let height;\n        let top;\n        let left;\n\n        if (wrapperAspect > this.videoAspect) {\n            width = this.mode === 'cover' ? wrapperRect.width : wrapperRect.height * this.videoAspect;\n            height = this.mode === 'cover' ? width / this.videoAspect : wrapperRect.height;\n\n            width = Math.ceil(width);\n            height = Math.ceil(height);\n\n            left = this.mode === 'cover' ? 0 : (wrapperRect.width - width) * 0.5;\n            top = this.mode === 'cover' ? (wrapperRect.height - height) * 0.5 : 0;\n        } else {\n            height = this.mode === 'cover' ? wrapperRect.height : wrapperRect.width / this.videoAspect;\n            width = this.mode === 'cover' ? height * this.videoAspect : wrapperRect.width;\n\n            width = Math.ceil(width);\n            height = Math.ceil(height);\n\n            left = this.mode === 'cover' ? (wrapperRect.width - width) * 0.5 : 0;\n            top = this.mode === 'cover' ? 0 : (wrapperRect.height - height) * 0.5;\n        }\n\n        this.videoWrapper.style.width = `${width}px`;\n        this.videoWrapper.style.height = `${height}px`;\n        this.videoWrapper.style.transform = `translate(${left}px, ${top}px)`;\n\n        if (typeof this.callback === 'function') {\n            this.callback({width, height});\n        } else {\n            console.warn('FitVideo - callback should be typeof \"function\"');\n        }\n    }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/FitVideo.js"],"sourceRoot":""}